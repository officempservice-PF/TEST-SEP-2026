<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PF-Smart Energy & AI Safety — Test Elektryk (30 pytań)</title>
  <meta name="description" content="Interaktywny test z podstaw elektryki, BHP i pomiarów. 30 pytań. Brand: PF-Smart Energy & AI Safety." />
  <style>
    :root{
      --brand:#0f62fe;        
      --ink:#1f2937;          
      --muted:#6b7280;        
      --bg:#f3f4f6;           
      --card:#ffffff;         
      --ok:#16a34a;           
      --bad:#dc2626;          
      --warn:#f59e0b;         
      --radius:14px;
      --shadow:0 6px 24px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink);line-height:1.55}
    header{background:linear-gradient(135deg,#0f62fe 0%,#2dd4bf 100%);color:#fff;padding:28px 16px}
    .wrap{max-width:980px;margin:0 auto;padding:0 16px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand-icon{width:42px;height:42px;border-radius:10px;background:#fff;color:#0f62fe;display:grid;place-items:center;font-weight:800;box-shadow:var(--shadow)}
    h1{margin:8px 0 4px;font-size:clamp(22px,3.6vw,32px)}
    .subtitle{margin:0;font-size:14px;opacity:.9}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px;margin:18px 0}
    .meta{display:flex;flex-wrap:wrap;gap:12px;font-size:13px;color:var(--muted)}
    .badge{background:#eef2ff;color:#3730a3;border:1px solid #c7d2fe;border-radius:999px;padding:4px 10px}
    .controls{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    button{appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:600;cursor:pointer}
    .primary{background:var(--brand);color:#fff}
    .ghost{background:#e5e7eb}
    .linklike{background:transparent;color:var(--brand);text-decoration:underline}
    .question{padding:14px 0;border-top:1px dashed #e5e7eb}
    .question:first-of-type{border-top:0}
    .question h3{margin:0 0 8px;font-size:16px}
    .opts{display:grid;gap:8px}
    label.opt{display:flex;gap:10px;align-items:flex-start;background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:10px}
    input[type="radio"]{margin-top:3px}
    .feedback{margin-top:8px;font-size:13px}
    .good{color:var(--ok)}
    .bad{color:var(--bad)}
    .summary{font-size:18px;font-weight:700;margin:8px 0}
    .progress{height:10px;background:#e5e7eb;border-radius:999px;overflow:hidden}
    .progress>span{display:block;height:100%;background:var(--brand);width:0%}
    footer{padding:24px 16px;color:#111}
    .footer-grid{max-width:980px;margin:0 auto;display:grid;gap:10px}
    .legal{font-size:12px;color:#6b7280}
    .brandline{font-weight:700}
    .hint{font-size:13px;color:var(--muted)}
    .notice{background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;padding:10px;border-radius:12px;margin:10px 0}
    .hidden{display:none}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <div class="brand-icon">⚡</div>
        <div>
          <h1>Test Elektryk — 30 pytań</h1>
          <p class="subtitle">PF-Smart Energy & AI Safety • Podstawy instalacji, BHP, ochrona przeciwporażeniowa, pomiary</p>
        </div>
      </div>
      <div class="meta" aria-label="Metadane">
        <span class="badge">Czas: ~15–20 min</span>
        <span class="badge">Próg zaliczenia: 80%</span>
        <span class="badge">Tryb: Samosprawdzanie</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <p class="hint">Zaznacz po jednej odpowiedzi. Po kliknięciu <b>Sprawdź wynik</b> zobaczysz wynik i komentarze do pytań. Możesz powtórzyć test przyciskiem <b>Reset</b>.</p>
      <div class="controls">
        <button class="primary" id="btnCheck">Sprawdź wynik</button>
        <button class="ghost" id="btnReset">Reset</button>
        <button class="linklike" id="btnDownload">Pobierz ten plik HTML</button>
      </div>
      <div class="progress" aria-label="Postęp">
        <span id="bar"></span>
      </div>
      <div id="quiz"></div>
      <div id="result" class="summary"></div>
      <div id="advice" class="notice hidden"></div>
    </section>
  </main>

  <footer style="background:#fff;border-top:1px solid #e5e7eb">
    <div class="footer-grid">
      <div class="wrap">
        <div class="brandline">PF-Smart Energy & AI Safety</div>
        <div>Tel: 07453 632080 • Email: <a href="mailto:office.mpservice@gmail.com">office.mpservice@gmail.com</a></div>
        <div class="legal">© <span id="year"></span> PF-Smart Energy & AI Safety. Wszelkie prawa zastrzeżone. Materiał szkoleniowy — do użytku edukacyjnego.</div>
      </div>
    </div>
  </footer>

  <script>
  const QUESTIONS = [
    {q:"Jakie napięcie znamionowe ma jednofazowa instalacja gniazd w Polsce?",a:["110 V","230 V","400 V"],c:1,ex:"Standard sieci nN w PL: 230/400 V, 50 Hz."},
    {q:"Między dwiema fazami w sieci trójfazowej otrzymasz:",a:["230 V","400 V","500 V"],c:1,ex:"Napięcie międzyfazowe ≈ 400 V (√3×230 V)."},
    {q:"Skrót RCD oznacza:",a:["Wyłącznik różnicowoprądowy","Wyłącznik nadprądowy","Rozłącznik bezpiecznikowy"],c:0,ex:"RCD wykrywa prąd upływu i odłącza zasilanie."}
  ];
  const quizEl=document.getElementById("quiz");
  const barEl=document.getElementById("bar");
  const resultEl=document.getElementById("result");
  const adviceEl=document.getElementById("advice");
  const yearEl=document.getElementById("year");
  yearEl.textContent=new Date().getFullYear();

  function renderQuiz(){
    quizEl.innerHTML="";
    QUESTIONS.forEach((item,idx)=>{
      const qId=idx+1;
      const sec=document.createElement("section");
      sec.className="question";
      const h=document.createElement("h3");
      h.textContent=`${qId}. ${item.q}`;
      const opts=document.createElement("div");
      opts.className="opts";
      item.a.forEach((txt,i)=>{
        const id=`q${qId}_o${i}`;
        const label=document.createElement("label");
        label.className="opt";
        label.setAttribute("for",id);
        label.innerHTML=`<input type="radio" name="q${qId}" id="${id}" value="${i}"> <span>${txt}</span>`;
        opts.appendChild(label);
      });
      const fb=document.createElement("div");
      fb.className="feedback";
      fb.id=`fb${qId}`;
      sec.append(h,opts,fb);
      quizEl.appendChild(sec);
    });
    updateProgress();
  }
  function getAnswers(){
    const chosen=[];
    QUESTIONS.forEach((_,i)=>{
      const name=`q${i+1}`;
      const radios=document.getElementsByName(name);
      let v=null;
      radios.forEach?.((r)=>{if(r.checked)v=parseInt(r.value,10)});
      if(v===null){for(let r of radios){if(r.checked){v=parseInt(r.value,10);break}}}
      chosen.push(v);
    });
    return chosen;
  }
  function updateProgress(){
    const chosen=getAnswers().filter(v=>v!==null).length;
    const pct=Math.round((chosen/QUESTIONS.length)*100);
    barEl.style.width=pct+"%";
  }
  document.addEventListener("change",updateProgress);

  function check(){
    const answers=getAnswers();
    let score=0;
    answers.forEach((v,i)=>{
      const fb=document.getElementById(`fb${i+1}`);
      if(v===null){fb.innerHTML=`<span class="bad">Brak odpowiedzi.</span>`;return}
      if(v===QUESTIONS[i].c){score++;fb.innerHTML=`<span class="good">✅ Dobrze.</span> <span class="hint">${QUESTIONS[i].ex}</span>`;}
      else{const correct=QUESTIONS[i].a[QUESTIONS[i].c];fb.innerHTML=`<span class="bad">❌ Źle.</span> <span class="hint">Poprawnie: <b>${correct}</b>. ${QUESTIONS[i].ex}</span>`;}
    });
    const pct=Math.round((score/QUESTIONS.length)*100);
    const pass=pct>=80;
    resultEl.textContent=`Wynik: ${score}/${QUESTIONS.length} (${pct}%) — ${pass?"ZALICZONO ✅":"NIEZALICZONO ❌"}`;
    adviceEl.classList.remove("hidden");
    adviceEl.innerHTML=pass?"Świetna robota!":"Wróć do materiału i spróbuj ponownie.";
    window.scrollTo({top:0,behavior:"smooth"});
  }
  function resetQuiz(){
    document.querySelectorAll("input[type=radio]").forEach(r=>r.checked=false);
    document.querySelectorAll(".feedback").forEach(f=>f.textContent="");
    resultEl.textContent="";adviceEl.classList.add("hidden");
    updateProgress();
    window.scrollTo({top:0,behavior:"smooth"});
  }
  function downloadSelf(){
    const blob=new Blob([document.documentElement.outerHTML],{type:"text/html;charset=utf-8"});
    const url=URL.createObjectURL(blob);
    const a=document.createElement("a");
    a.href=url;a.download="index.html";
    document.body.appendChild(a);a.click();
    setTimeout(()=>{URL.revokeObjectURL(url);a.remove()},0);
  }
  document.getElementById("btnCheck").addEventListener("click",check);
  document.getElementById("btnReset").addEventListener("click",resetQuiz);
  document.getElementById("btnDownload").addEventListener("click",downloadSelf);
  renderQuiz();
  </script>
</body>
</html>